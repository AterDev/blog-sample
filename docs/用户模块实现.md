# 用户模块实现

用户模块相关逻辑实现需要在`UserMod`中完成。

## 用户登录/JWT验证

- 创建LoginDto，包含用户名和密码字段。
- 根据用户名查询用户信息。
- 使用 HashCrypto 对密码进行验证。
- 生成JWT访问令牌和刷新令牌。
- 返回包含访问令牌和刷新令牌的 AccessTokenDto。

## 修改密码

- 使用 `UserUpdateDto`接收新密码 password
- 查询用户实体
- 使用 HashCrypto 对新密码进行加密
- 更新用户实体中的密码字段，将新的PasswordHash和Salt保存到数据库

## 头像上传

- 在CommonManager中添加一个上传文件的方法，返回文件的URL
- 参数是IFormFile类型的文件，以及目录路径，以及后缀名验证数组（可选）。
- 将文件存储到wwwroot目录下对应的目录中
- 判断文件后缀名是否在允许的范围内
- 返回文件的访问URL

以上内容，错误提示使用 `BusinessException` 进行抛出，并支持中英文描述。

具体的描述内容需要添加到 `Localizer.en-US.resx`和 `Localizer.zh-CN.resx` 文件中。

## 实现接口

在`AdminService`项目中提供接口，以实现用户登录、修改密码和头像上传功能。

直接通过修改`UpdateAsync`方法实现具体的密码修改和头像url更新逻辑。
